<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Forgot Password</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='recover_pswd_style.css') }}">
</head>
<body>
  <div class="box">
    <div class="forgot">
      <form method="POST" action="{{ url_for('auth.recover') }}" class="forgotBx">
        {{ form.hidden_tag() }}  <!-- ðŸ‘ˆ CSRF token -->

        <!-- Titolo "Forgot" con busta -->
        <h2>
          <i class="fa-solid fa-envelope"></i>
          Forgot
        </h2>
        <!-- Titolo "Password" con chiave -->
        <h2>
          <i class="fa-solid fa-key"></i>
          Password
        </h2>

        <!-- Campo WTForms -->
        {{ form.email(class_="input", placeholder="Username or Email") }}
        {% for error in form.email.errors %}
          <p class="error">{{ error }}</p>
        {% endfor %}

        <input type="submit" value="Send Reset Link" />

        <div class="group">
          <a href="{{ url_for('auth.login') }}">Back to Login</a>
        </div>

        <!-- Flash messages -->
        <p id="msg" style="color: #ff2770; text-align: center; margin-top: 1px;">
          {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              {% for category, message in messages %}
                {{ message }}
              {% endfor %}
            {% endif %}
          {% endwith %}
        </p>
      </form>
    </div>
  </div>
</body>
</html>
